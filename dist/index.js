"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(n,!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var r={selector:".contentSlider",sliderDOMArray:[],sliders:[],turnOnSlider:function(e){!e.classList.contains("off")&&e.classList.contains("on")||(e.classList.contains("off")&&e.classList.remove("off"),e.classList.add("on"))},turnOffSlider:function(e){!e.classList.contains("on")&&e.classList.contains("off")||(e.classList.contains("on")&&e.classList.remove("on"),e.classList.add("off"))},addButtons:function(e){var t=document.createElement("div"),n=document.createElement("div");return t.classList.add("contentSliderBtn"),t.classList.add("contentSliderBtnLeft"),n.classList.add("contentSliderBtn"),n.classList.add("contentSliderBtnRight"),e.element.appendChild(t),e.element.appendChild(n),_objectSpread({},e,{leftButton:t,rightButton:n})},addScene:function(e){var t=document.createElement("div");return t.classList.add("contentSliderScene"),e.element.appendChild(t),_objectSpread({},e,{scene:t})},addBackdrop:function(e){var t=document.createElement("div");return t.classList.add("contentSliderBackdrop"),e.element.appendChild(t),_objectSpread({},e,{backdrop:t})},addStatusBar:function(e){if(e.element.classList.contains("param-statusbar")){var t=document.createElement("div");return t.classList.add("contentSliderStatusBar"),e.element.insertAdjacentElement("afterend",t),_objectSpread({},e,{statusBar:t})}return _objectSpread({},e,{statusBar:null})},addDownloadButton:function(e){if(e.element.classList.contains("param-downloadbutton")){var t=document.createElement("div");return t.classList.add("contentSliderDownloadButton"),e.element.appendChild(t),_objectSpread({},e,{downloadButton:t})}return _objectSpread({},e,{downloadButton:null})},setImage:function(e,t){t.scene.style.backgroundImage="url(".concat(t.urls[e],")"),t.backdrop.style.backgroundImage="url(".concat(t.urls[e],")"),t.element.style.backgroundImage="url(".concat(t.urls[e],")")},setStatusBarText:function(e,t){t.statusBar&&(t.statusBar.innerText=e)},createDownloader:function(e){var t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("download",""),t.setAttribute("target","_blank"),document.body.appendChild(t),t},makeSlider:function(e){var t={element:e,urls:e.innerText.split(/\s/gim).filter(function(e){return e||!1}),currentImage:0};if(0===t.urls.length)return!1;if(e.innerText="",t=r.addButtons(t),t=r.addBackdrop(t),t=r.addScene(t),t=r.addStatusBar(t),(t=r.addDownloadButton(t)).leftButton.addEventListener("click",function(){t.currentImage--,t.currentImage<0&&(t.currentImage=t.urls.length-1),r.setImage(t.currentImage,t),r.setStatusBarText("".concat(t.currentImage+1," / ").concat(t.urls.length),t)}),t.rightButton.addEventListener("click",function(){t.currentImage++,t.currentImage>t.urls.length-1&&(t.currentImage=0),r.setImage(t.currentImage,t),r.setStatusBarText("".concat(t.currentImage+1," / ").concat(t.urls.length),t)}),t.downloadButton&&t.downloadButton.addEventListener("click",function(){var e=r.createDownloader(t.urls[t.currentImage]);e.click(),e.parentNode.removeChild(e)}),t.element.classList.contains("param-zoom")){var n=document.body.getAttribute("style");t.scene.addEventListener("click",function(){t.element.classList.contains("zoom")?(t.element.classList.remove("zoom"),n?document.body.setAttribute("style",n):document.body.removeAttribute("style")):(t.element.classList.add("zoom"),document.body.style.overflow="hidden")})}r.setImage(t.currentImage,t),r.setStatusBarText("".concat(t.currentImage+1," / ").concat(t.urls.length),t),r.turnOnSlider(t.element),r.sliders.push(t)},init:function(e){return!!e&&(r.sliderDOMArray=_toConsumableArray(e.querySelectorAll(r.selector)),0!==r.sliderDOMArray.length&&void r.sliderDOMArray.forEach(function(e){return r.makeSlider(e)}))}};window.contentSlider=r}();